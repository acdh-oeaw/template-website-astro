---
import { createAnalyticsScript } from "@/lib/analytics/analytics-script";

interface Props {
	baseUrl: string;
	id: number;
}

const { baseUrl, id } = Astro.props;
---

<script is:inline set:html={`(${String(createAnalyticsScript)})("${baseUrl}", "${String(id)}");`} />

<script>
	import { initAnalytics } from "@/lib/analytics/analytics-script";
	import type { IntlLocale } from "@/lib/i18n/locales";

	const currentLocale = document.documentElement.getAttribute("lang") as IntlLocale;

	initAnalytics(currentLocale);
</script>
