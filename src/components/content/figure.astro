---
import type { ImageMetadata } from "astro";

import Image from "@/components/content/img.astro";
import type { FigureAlignment } from "@/lib/content/options";

interface Props {
	/** @default "stretch" */
	alignment?: FigureAlignment;
	alt?: string;
	src: ImageMetadata;
}

const { alignment = "stretch", alt = "", src } = Astro.props;
---

<figure
	class="grid content-start"
	class:list={alignment === "center" ? "justify-center" : undefined}
>
	<Image alt={alt} src={src} />
	{
		Astro.slots.has("default") ? (
			<figcaption>
				<slot />
			</figcaption>
		) : null
	}
</figure>
